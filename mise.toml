[tools]
pre-commit = "latest"
python     = "3.13"
uv         = "latest"

[env]
UV_PREVIEW = "1"

[tasks.test]
description = "Run ALL tests (including broken ones)"
run         = "uv run pytest packages/*/src/ -v --tb=short"

[tasks.test-package]
description = "Run tests for a specific package (e.g., mise run test-package north-matchbox)"
run         = "uv run pytest packages/{{arg()}}/src/ -v"

[tasks.update-config]
description = "Update north package configuration"
run         = "uv run python scripts/update_north_config.py"

[tasks.build]
description = "Build all packages"
run         = "uv build --all"

[tasks.build-package]
description = "Build a specific package (e.g., mise run build-package north-string)"
run         = "uv build --package $1"

[tasks.clean]
run = """
rm -rf dist .venv .pytest_cache .ruff_cache
"""
